---
title: 'JavaScript-रेंडर की गई सामग्री'
publishedAt: '2025-03-08'
summary: 'एकल-पृष्ठ साइट जहाँ सामग्री JavaScript + अनंत स्क्रॉल / लेज़ी लोडिंग के माध्यम से गतिशील रूप से लोड होती है'
---

आधुनिक वेब एप्लिकेशन शायद ही कभी पूरा HTML परोसते हैं - इसके बजाय, सामग्री JavaScript के माध्यम से गतिशील रूप से लोड और रेंडर की जाती है। यह वेब स्क्रैपिंग के लिए अनूठी चुनौतियां प्रस्तुत करता है जिनसे हम इन दो अध्यायों में निपटेंगे।

## अध्याय 4: डायनामिक न्यूज़ फीड

हमारी पहली चुनौती में एक न्यूज़ फीड को स्क्रैप करना शामिल है जहाँ लेख JavaScript के माध्यम से गतिशील रूप से लोड होते हैं। यह कई मुख्य अवधारणाओं का परिचय देता है:

- Playwright के साथ ब्राउज़र ऑटोमेशन
- डायनामिक सामग्री के लोड होने की प्रतीक्षा करना
- JavaScript-रेंडर किए गए DOM तत्वों को संभालना

पेज संरचना कुछ इस तरह दिखती है:

```html
<div class="news-feed">
  <article class="news-item">
    <h2>ब्रेकिंग न्यूज़ शीर्षक</h2>
    <p>लेख सामग्री...</p>
    <div class="meta">
      <span>लेखक का नाम</span>
      <time datetime="2024-03-08T12:00:00Z">8 मार्च, 2024</time>
    </div>
  </article>
  <!-- अधिक लेख गतिशील रूप से लोड होते हैं -->
</div>
```
स्टेटिक HTML स्क्रैपिंग से मुख्य अंतर:

```typescript
// cheerio.load() के बजाय, हम Playwright का उपयोग करते हैं
const browser = await chromium.launch();
const page = await browser.newPage();

// सामग्री के रेंडर होने की प्रतीक्षा करें
await page.waitForSelector('.news-item');

// page.$$eval() का उपयोग करके लाइव DOM से डेटा निकालें
// यह कॉलबैक फ़ंक्शन को ब्राउज़र संदर्भ में चलाता है
// सेलेक्टर से मेल खाने वाले सभी तत्वों का एक साथ मूल्यांकन करने के लिए
const items = await page.$$eval('.news-item', elements => {
  // मेल खाने वाले तत्वों पर Array.map() की तरह काम करता है
  // सीरियलाइज़ेबल JavaScript ऑब्जेक्ट्स लौटाता है
  // कई तत्वों से डेटा निकालने के लिए बिल्कुल सही
});
```

## अध्याय 5: अनंत स्क्रॉल गैलरी

हमारे डायनामिक सामग्री ज्ञान पर आधारित, हम एक और भी जटिल परिदृश्य से निपटते हैं - अनंत स्क्रॉल के साथ एक फोटो गैलरी। यह परिचय देता है:

- लेज़ी-लोडेड सामग्री को संभालना
- स्क्रॉल इवेंट्स का पता लगाना और ट्रिगर करना
- असिंक लोडिंग स्थितियों का प्रबंधन
- जटिल UI पैटर्न से डेटा निकालना

यहाँ चुनौती यह है कि उपयोगकर्ता के स्क्रॉल करते समय सामग्री प्रगतिशील रूप से लोड होती है:

```html
<div class="photo-gallery">
  <div class="photo-card">
    <img src="..." alt="फोटो शीर्षक" />
    <h2>फोटो शीर्षक</h2>
    <p>फोटोग्राफर का नाम</p>
    <div class="flex">
      <span>❤️ 42</span>
    </div>
  </div>
  <!-- स्क्रॉल पर अधिक फोटो लोड होती हैं -->
</div>
```

अनंत स्क्रॉल को संभालने की मुख्य अवधारणाएं:

```typescript
// तब तक नीचे स्क्रॉल करें जब तक कोई नई सामग्री लोड न हो
let previousHeight;
while (true) {
  previousHeight = await page.evaluate('document.body.scrollHeight');
  await page.evaluate('window.scrollTo(0, document.body.scrollHeight)');
  await page.waitForTimeout(1500); // सामग्री की प्रतीक्षा करें

  const newHeight = await page.evaluate('document.body.scrollHeight');
  if (newHeight === previousHeight) {
    break; // लोड करने के लिए और कोई सामग्री नहीं
  }
}
```

### महत्वपूर्ण विचार

JavaScript-रेंडर की गई सामग्री के साथ काम करते समय:

1. **प्रदर्शन**: डायनामिक सामग्री स्क्रैपिंग स्टेटिक HTML से धीमी है
2. **संसाधन प्रबंधन**: ब्राउज़र ऑटोमेशन अधिक सिस्टम संसाधनों का उपयोग करता है
3. **स्थिरता**: लोडिंग स्थितियों और नेटवर्क स्थितियों को संभालने की आवश्यकता
4. **दर सीमा**: कार्यों के बीच देरी को लागू करने पर विचार करें

### सर्वोत्तम प्रथाएं

1. उपयुक्त प्रतीक्षा रणनीतियों का उपयोग करें:
```typescript
// विशिष्ट तत्वों की प्रतीक्षा करें
await page.waitForSelector('.selector');

// नेटवर्क निष्क्रिय की प्रतीक्षा करें
await page.waitForLoadState('networkidle');

// कस्टम प्रतीक्षा स्थितियां
await page.waitForFunction(() => {
  // कस्टम JavaScript स्थिति
});
```

2. मजबूत त्रुटि हैंडलिंग लागू करें:
```typescript
try {
  await page.goto(url);
  // ... स्क्रैपिंग लॉजिक
} catch (error) {
  console.error('स्क्रैपिंग विफल:', error);
} finally {
  await browser.close(); // हमेशा साफ करें
}
```

3. विश्वसनीयता के लिए retry mechanisms को लागू करने पर विचार करें
4. बड़े डेटासेट के साथ काम करते समय मेमोरी उपयोग की निगरानी करें
5. निकाले गए डेटा की स्थिरता के लिए सत्यापन करें

### अपने समाधान का परीक्षण

परीक्षण वातावरण मॉक APIs प्रदान करता है जो वास्तविक दुनिया की स्थितियों का अनुकरण करते हैं:
- परिवर्तनीय लोडिंग समय
- नेटवर्क विलंबता
- पेजिनेशन मैकेनिक्स
- त्रुटि स्थितियां

इन भिन्नताओं को आज़माएं:
1. स्क्रॉल टाइमिंग को संशोधित करें
2. विभिन्न स्क्रीन आकारों को संभालें
3. धीमी नेटवर्क स्थितियों के साथ परीक्षण करें
4. डेटा अखंडता को मान्य करें

डायनामिक सामग्री को संभालने के लिए तैयार हैं? चुनौती कोड और परीक्षण वातावरण रिपॉजिटरी में हैं।

संदर्भ कार्यान्वयन के लिए `_solved/chapter4/` और `_solved/chapter5/` में हल किए गए उदाहरण देखें। याद रखें - आधुनिक वेब स्क्रैपिंग HTML संरचना और एप्लिकेशन व्यवहार दोनों को समझने के बारे में है।

खुश स्क्रैपिंग!